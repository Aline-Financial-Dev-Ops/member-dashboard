<form *ngIf="userProfile && formGroup" [formGroup]="formGroup" (submit)="saveProfile()">
  <div class="w-100 d-flex justify-content-between align-items-center">
    <span class="fs-5">{{formTitle}}</span>
    <div *ngIf="!saving else smSpinner" class="flex-shrink-1">
      <button [hidden]="!editMode" ngbTooltip="Save" [disabled]="formGroup.invalid" class="btn btn-link" type="submit">
        <fa-icon icon="save"></fa-icon>
      </button>
      <button type="button" [ngbTooltip]="editMode ? 'Cancel' : 'Edit'" triggers="hover focus click" class="btn btn-link" (click)="editOrCancel()">
        <fa-icon [icon]="editMode ? 'times' : 'edit'"></fa-icon>
      </button>
    </div>
  </div>
  <div class="my-3">
    <div *ngFor="let control of formGroup.controls | keyvalue: originalOrder" class="form-floating my-2">
      <input type="text"
             [id]="control.key"
             [formControlName]="control.key"
             class="form-control"
             [placeholder]="control.key | formControlLabel"
             [readOnly]="!editMode"/>
      <label [for]="control.key" class="form-label">{{control.key | formControlLabel}}</label>
    </div>
  </div>
</form>

<ng-template #smSpinner>
  <span class="spinner-border spinner-grow-sm text-primary m-2"></span>
</ng-template>
